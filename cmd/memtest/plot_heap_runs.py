import matplotlib.pyplot as plt
import numpy as np

# Assuming you have 4 arrays of numbers
y1 = [307,333,520,651,1830,1017,1271,1589,1589,1986,1986,2483,2483,2483,3103,3103,3103,3103,3879,3879,3879,3879,8729,4849,4849,4849,4849,4849,6061,6061,6061,6061,6061,6062,6062,7577,7577,7577,7577,7577,7577,7577,7577,17048,9471,9471,9471,9471,9471,9471,9471,9471,9471,9471,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,26638,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,]
y2 = [170,333,520,651,1830,1017,1271,1589,1589,1986,1986,4469,2483,2483,3103,3103,3103,3103,3879,3879,3879,3879,8729,4849,4849,4849,4849,4849,6061,6061,6061,6061,6061,6061,6062,7577,7577,7577,7577,7577,7577,7577,7577,17048,9471,9471,9471,9471,9471,9471,9471,9471,9471,9471,11839,11839,11839,]
y3 = [170,333,520,651,1830,1017,1271,1589,1589,1986,1986,4469,2483,2483,3103,3103,3103,3103,3879,3879,3879,3879,8729,4849,4849,4849,4849,4849,6061,]
y4 = [170,333,520,651,]
y5 = [136,266,416,521,651,813,1017,2288,1271,1589,1589,3575,1986,1986,4469,2483,2483,3103,3103,3103,3103,6983,3879,3879,3879,3879,8729,4849,4849,4849,4849,4849,10911,6061,6062,6062,6062,6062,6062,7577,7577,7577,7577,7577,7577,7577,7577,7577,9471,9471,9471,9471,9471,9471,9471,9471,9471,9471,9471,21311,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,26638,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,33298,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,18499,41622,23123,23123,23123,23123,23123,23123,23123,23123,]

# n=15k but calling GC every 100 iters
# spoiler: nothing changes
# y4_gc = [307,333,520,651,813,1017,1271,2860,1589,3575,1986,1986,2483,2483,2483,3103,3103,3103,6983,3879,3879,3879,3879,4849,4849,4849,4849,4849,4849,10911,6061,6061,6061,6061,6061,6061,13638,7577,7577,7577,7577,7577,7577,7577,7577,17048,9471,9471,9471,9471,9471,9471,9471,9471,9471,9471,21310,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,11839,26638,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,14799,]

plt.figure(figsize=(10,8))

# Plot each array
plt.plot(range(len(y5)), y5, label='HeapAlloc n=20k')
plt.plot(range(len(y1)), y1, label='HeapAlloc n=15k')
plt.plot(range(len(y2)), y2, label='HeapAlloc n=10k')
plt.plot(range(len(y3)), y3, label='HeapAlloc n=5k')
plt.plot(range(len(y4)), y4, label='HeapAlloc n=1k')

plt.axhline(y=20_000, color='blue', linestyle='dashed', label="20k", alpha=0.3)
plt.axhline(y=15_000, color='blue', linestyle='dashed', label="15k", alpha=0.3)
plt.axhline(y=10_000, color='orange', linestyle='dashed', label="10k", alpha=0.3)
plt.axhline(y=5_000, color='green', linestyle='dashed', label="5k", alpha=0.3)
plt.axhline(y=1_000, color='red', linestyle='dashed', label="1k", alpha=0.3)

plt.tight_layout()

# Add a legend
plt.legend()

# Show the plot
plt.show()
